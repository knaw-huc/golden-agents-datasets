#+ summary: How many plays were made and performed during a playwriter's life? How many works of this author are listed in the STCN? And how many unique printer/publishers are involved in the publication? In Golden Agents ontology.
#+ endpoint: https://sparql.goldenagents.org/
#+ method: GET
#+ tags:
#+  - ecartico
#+  - onstage
#+  - stcn
#+  - linkset
#+ description: The results of this query are:
#+    |name                                      |birthYear|firstPerformanceAlive|lastPerformanceAlive|deathYear|works|shows|performances|allBooks|uniquePrinters|
#+    |------------------------------------------|---------|---------------------|--------------------|---------|-----|-----|------------|--------|--------------|
#+    |Abraham Louis Barbaz                      |1770     |1796-01-19           |1824-03-14          |1833     |8    |19   |19          |19      |4             |
#+    |Alewyn, Abraham                           |1664     |1702-11-13           |1721-09-25          |1721     |6    |47   |48          |29      |12            |
#+    |Alexandre Vincent Pineu Duval             |1767     |1798-08-06           |1832-01-18          |1842     |1    |21   |21          |11      |8             |
#+    |Ambrosius Justus Zubli                    |1751     |1790-11-08           |1819-11-11          |1820     |2    |30   |31          |8       |3             |
#+    |Anna Catharina Brinkman                   |1760     |1797-01-04           |1809-02-15          |1828     |2    |13   |13          |6       |4             |
#+    |Antoni Hartsen                            |1719     |1759-03-12           |1784-10-23          |1784     |5    |64   |64          |1       |1             |
#+    |Bartholomeus Ruloffs                      |1741     |1776-01-22           |1801-11-25          |1801     |20   |229  |234         |48      |14            |
#+    |Bernagie, Pieter                          |1656     |1683-01-04           |1699-12-31          |1699     |15   |243  |264         |52      |10            |
#+    |Bidloo, Govert                            |1649     |1678-10-10           |1713-11-06          |1713     |9    |60   |60          |59      |31            |
#+    |Bilderdijk, Izaak                         |1720     |1762-03-15           |1775-03-25          |1798     |2    |5    |5           |1       |1             |
#+    |Bingley, Ward                             |1757     |1791-03-01           |1809-04-26          |1818     |2    |17   |17          |1       |1             |
#+    |Bouckart, Jurriaen                        |1599     |1653-04-15           |1664-02-14          |1664     |2    |35   |35          |19      |7             |
#+    |Bruin, Claas                              |1671     |1713-04-20           |1732-09-18          |1732     |7    |59   |59          |74      |30            |
#+    |Buysero, Dirk                             |1644     |1670-01-06           |1708-12-31          |1708     |8    |150  |153         |31      |18            |
#+    |Catherina Dusart Verwers                  |1618     |1644-06-14           |1649-10-14          |1686     |1    |9    |9           |2       |2             |
#+    |Charles ColleÃÅ                             |1709     |1759-09-18           |1759-09-18          |1783     |1    |1    |1           |16      |15            |
#+    |Charles Simon Favart                      |1710     |1759-08-28           |1760-04-15          |1792     |5    |12   |14          |69      |23            |
#+    |Cornelis Loots                            |1765     |1796-03-21           |1834-10-06          |1834     |4    |95   |96          |10      |3             |
#+    |Cornelis van der Gon                      |1660     |1701-06-13           |1728-08-12          |1731     |3    |9    |9           |12      |16            |
#+    |Coster, Samuel                            |1579     |1638-02-21           |1665-05-07          |1665     |6    |97   |101         |34      |11            |
#+    |Dubbels, Pieter                           |1625     |1651-08-14           |1671-11-30          |1671     |4    |36   |36          |6       |7             |
#+    |Elvervelt, Henrik van                     |         |1733-07-27           |1781-11-12          |1781     |14   |194  |200         |21      |11            |
#+    |Emanuel van der Hoeven                    |         |1688-11-08           |1727-01-25          |1727     |3    |40   |40          |10      |7             |
#+    |Feitama, Johan                            |1706     |1740-03-26           |1750-02-14          |1768     |2    |5    |5           |1       |1             |
#+    |Feitama, Sybrand                          |1694     |1720-12-14           |1757-12-12          |1758     |10   |44   |44          |7       |7             |
#+    |Flines, Gilbert de                        |1690     |1720-01-15           |1720-01-20          |1739     |1    |2    |2           |1       |2             |
#+    |Fokke Simonsz., A.                        |1755     |1805-10-01           |1805-10-12          |1812     |1    |11   |11          |24      |5             |
#+    |Fokke, Jan                                |         |1775-09-07           |1795-04-18          |1812     |3    |16   |16          |17      |6             |
#+    |Frans van Steenwijk                       |1705     |1741-03-18           |1776-04-15          |1788     |4    |19   |19          |12      |4             |
#+    |Fremery, Barend                           |1750     |1786-02-14           |1808-03-14          |1811     |1    |18   |18          |4       |5             |
#+    |Gijsbert Tijsens                          |1693     |1722-03-09           |1731-01-20          |1732     |2    |13   |13          |41      |15            |
#+    |Gijsbrecht van Hogendorp                  |1589     |1639-06-22           |1639-07-11          |1639     |1    |4    |4           |3       |4             |
#+    |Goens, R.C. van                           |1753     |1796-01-14           |1803-05-04          |1803     |3    |19   |19          |6       |3             |
#+    |Goeree, Jan                               |1670     |1707-03-03           |1710-04-24          |1731     |1    |5    |5           |4       |6             |
#+    |Govert van Mater                          |1697     |1711-05-21           |1720-01-29          |1729     |1    |9    |9           |11      |7             |
#+    |Guiliam Toussaint Domis                   |1681     |1708-01-19           |1738-08-21          |1738     |8    |58   |58          |4       |6             |
#+    |Harmanus Asschenberg                      |1726     |1758-03-20           |1792-02-21          |1792     |8    |51   |51          |9       |4             |
#+    |Helmers, Jan Frederik                     |1767     |1799-03-05           |1799-03-30          |1813     |1    |3    |3           |5       |2             |
#+    |Henri Jean Roullaud                       |1729     |1755-12-15           |1790-11-20          |1790     |8    |58   |58          |5       |4             |
#+    |Hermannus Angelkot                        |         |1678-07-04           |1724-10-09          |1727     |3    |82   |83          |8       |7             |
#+    |Hoeven, Willem van der                    |1656     |1693-11-09           |1727-12-15          |1719     |11   |160  |164         |39      |10            |
#+    |Hooft, Willem Dircksz                     |1594     |1640-02-21           |1658-11-07          |1658     |4    |81   |81          |14      |6             |
#+    |Huydecoper, Balthasar                     |1695     |1717-01-09           |1778-11-07          |1778     |4    |101  |101         |25      |16            |
#+    |Jacob Elias                               |1698     |1715-04-23           |1746-03-19          |1750     |6    |36   |36          |5       |3             |
#+    |Jan Gerard Doornik                        |1765     |1782-03-04           |1807-09-05          |1807     |6    |84   |84          |2       |1             |
#+    |Jan Hendrik Glazemaker                    |         |1645-03-13           |1678-07-28          |1682     |1    |65   |65          |1       |1             |
#+    |Jan Jacob Hartsinck                       |1716     |1760-02-09           |1779-12-04          |1779     |4    |42   |45          |10      |6             |
#+    |Jan Six                                   |1618     |1647-10-24           |1666-08-19          |1700     |2    |18   |18          |9       |3             |
#+    |Jan Wandelaar                             |1692     |1723-02-20           |1759-08-13          |1759     |1    |10   |10          |1       |2             |
#+    |Jan van Gijsen                            |1668     |1712-05-17           |1714-03-17          |1722     |1    |4    |4           |66      |10            |
#+    |Jan van Hoogstraten                       |1662     |1707-01-17           |1707-01-20          |1736     |1    |2    |2           |37      |21            |
#+    |Jean Jacques Rousseau                     |1712     |1759-02-13           |1759-12-11          |1778     |1    |2    |2           |136     |57            |
#+    |Joannes Antonides van der Goes            |1647     |1678-02-28           |1684-11-13          |1684     |1    |13   |13          |24      |13            |
#+    |Johannes Menkema                          |1727     |1778-02-02           |1796-10-29          |1797     |1    |19   |19          |1       |1             |
#+    |Johannes Schroder                         |         |1746-05-09           |1746-05-09          |1746     |1    |1    |1           |7       |6             |
#+    |Joost van den Vondel                      |1587     |1638-01-03           |1678-12-24          |1679     |20   |394  |416         |426     |91            |
#+    |Kinker, Johannes                          |1764     |1801-01-20           |1802-11-17          |1845     |3    |31   |31          |10      |8             |
#+    |Kuipers, Dirk                             |1733     |1779-02-09           |1779-02-09          |1796     |1    |1    |1           |8       |8             |
#+    |Lacroix, Pieter de                        |1636     |1678-08-15           |1687-11-17          |1687     |8    |98   |100         |10      |7             |
#+    |Langendijk, Pieter                        |1683     |1712-04-07           |1756-11-15          |1756     |9    |152  |154         |99      |25            |
#+    |Lannoy, Juliana Cornelia de               |1738     |1767-02-09           |1781-09-03          |1782     |3    |16   |16          |11      |7             |
#+    |Lentfrinck, Fran√ßois                      |1717     |1764-02-13           |1775-01-30          |1792     |2    |9    |9           |5       |19            |
#+    |Lijn, Cornelis Jacob van der              |1730     |1760-12-01           |1796-11-28          |1799     |2    |20   |20          |5       |2             |
#+    |Louis Anseaume                            |1721     |1760-03-11           |1760-03-18          |1784     |1    |2    |2           |35      |15            |
#+    |Lucas Pater                               |1707     |1733-01-24           |1781-12-01          |1781     |7    |90   |90          |13      |5             |
#+    |Lukas Jacobsz Rotgans                     |1653     |1703-04-12           |1710-12-13          |1710     |2    |20   |20          |38      |15            |
#+    |Lutkeman, Jacob                           |         |1756-11-22           |1782-10-28          |1782     |3    |14   |14          |2       |2             |
#+    |Maarten Corver                            |1727     |1781-02-20           |1794-03-10          |1794     |2    |13   |13          |2       |3             |
#+    |Maas, Abraham                             |1726     |1778-09-14           |1788-09-11          |1804     |1    |6    |6           |2       |3             |
#+    |Marie Justine BenoiÃÇte Favart              |1727     |1760-01-08           |1760-05-06          |1772     |2    |11   |11          |18      |12            |
#+    |Marre, Jan de                             |1696     |1734-05-10           |1763-10-01          |1763     |4    |46   |46          |19      |6             |
#+    |Marten Westerman                          |1775     |1801-02-02           |1852-12-02          |1852     |4    |62   |62          |7       |4             |
#+    |Mattheus Gansneb Tengnagel                |1613     |1644-09-05           |1646-08-09          |1652     |1    |11   |11          |18      |10            |
#+    |Mauricius, Johan Jacob                    |1692     |1712-11-24           |1768-10-20          |1768     |2    |33   |33          |26      |16            |
#+    |Neufville, Christina Leonora de           |1713     |1739-05-09           |1767-09-19          |1781     |1    |14   |14          |1       |1             |
#+    |Nicolaas Simon van Winter                 |1718     |1780-04-04           |1795-11-23          |1795     |1    |18   |18          |14      |6             |
#+    |Nicolaas Willem op den Hooff              |         |1737-09-02           |1765-09-19          |1765     |13   |60   |60          |1       |1             |
#+    |Nomsz, Johannes                           |1738     |1764-05-07           |1803-12-10          |1803     |19   |145  |147         |77      |46            |
#+    |Nooseman, Jillis                          |1626     |1644-12-12           |1678-10-27          |1682     |5    |178  |179         |26      |14            |
#+    |Nuyts, Pieter                             |1640     |1694-05-17           |1708-12-20          |1709     |1    |12   |12          |13      |4             |
#+    |Ogelwight jr., Hendrik                    |1764     |1788-04-01           |1841-11-24          |1841     |13   |175  |178         |5       |3             |
#+    |Ollefen, Willem Caspersz. van             |1747     |1783-08-18           |1821-05-16          |1829     |4    |18   |18          |10      |8             |
#+    |Pels, Andries                             |1631     |1668-08-27           |1681-11-24          |1681     |3    |28   |44          |38      |13            |
#+    |Petrus Johannes Kasteleijn                |1746     |1780-01-24           |1794-01-25          |1794     |4    |19   |19          |32      |28            |
#+    |Philip Zweerts                            |1704     |1729-03-12           |1768-09-10          |1774     |2    |23   |23          |6       |5             |
#+    |Pierre Baurans                            |1710     |1759-01-30           |1761-11-10          |1764     |1    |8    |8           |4       |5             |
#+    |Pieter Anthony de Huybert van Kruiningen  |1693     |1699-06-25           |1780-10-24          |1780     |5    |106  |106         |19      |9             |
#+    |Pieter Boddaert                           |1766     |1800-04-08           |1805-12-14          |1805     |1    |7    |7           |5       |5             |
#+    |Pieter Elsevier                           |1643     |1662-06-19           |1690-12-14          |1696     |3    |19   |19          |11      |6             |
#+    |Pieter Johannes Uylenbroek                |1748     |1775-04-27           |1808-12-17          |1808     |13   |166  |166         |18      |3             |
#+    |Pieter Pypers                             |1749     |1784-02-02           |1805-12-07          |1805     |4    |81   |81          |16      |9             |
#+    |Pieter Rixtel                             |1643     |1672-01-11           |1672-04-25          |1673     |1    |4    |4           |5       |4             |
#+    |Pieter Verhoek                            |1633     |1689-03-28           |1696-04-09          |1702     |1    |12   |12          |8       |4             |
#+    |Rhijnvis Feith                            |1753     |1795-09-12           |1795-09-17          |1824     |1    |4    |4           |40      |11            |
#+    |Rijndorp, Jacob van                       |1663     |1690-10-23           |1720-12-30          |1720     |2    |129  |129         |31      |15            |
#+    |Rodenburgh, Theodoor                      |1574     |1638-03-23           |1644-12-29          |1644     |6    |59   |59          |34      |18            |
#+    |Rossini, Gioachino                        |1792     |1859-11-12           |1863-12-10          |1868     |1    |12   |12          |1       |2             |
#+    |Saint-Foix, Germain Fran√ßois Poullain de  |1698     |1759-12-04           |1760-01-15          |1776     |1    |3    |3           |30      |22            |
#+    |Samuel Dircksz van Hoogstraten            |1627     |1669-05-20           |1669-06-03          |1678     |1    |4    |4           |9       |10            |
#+    |Samuel Iperuszoon Wiselius                |1769     |1798-12-17           |1839-02-20          |1845     |4    |74   |75          |1       |1             |
#+    |Simon Stijl                               |1731     |1754-04-29           |1789-01-27          |1804     |1    |13   |13          |54      |85            |
#+    |Smids, Ludolph                            |1649     |1686-03-28           |1719-08-17          |1720     |2    |14   |14          |34      |25            |
#+    |Soet, Jan                                 |1610     |1640-05-14           |1648-03-09          |1674     |4    |26   |26          |22      |17            |
#+    |Spaan, Gelinus van                        |1731     |1776-05-11           |1795-03-02          |1800     |1    |6    |6           |6       |6             |
#+    |Thomas Arents                             |1652     |1680-03-04           |1701-12-15          |1701     |7    |98   |98          |10      |6             |
#+    |Toll, Philip Theodoor                     |1643     |1661-03-31           |1671-11-16          |1685     |2    |20   |20          |5       |1             |
#+    |Tollens Cz., Hendrik                      |1780     |1809-09-13           |1809-11-04          |1856     |2    |4    |4           |9       |4             |
#+    |Vern√®de, Scipion Henri                    |1768     |1801-11-26           |1801-11-30          |1840     |1    |3    |3           |3       |2             |
#+    |Walr√©, Jan van                            |1759     |1791-10-17           |1822-05-13          |1837     |3    |15   |15          |6       |4             |
#+    |Willem Godschalk van Focquenbroch         |1640     |1663-04-23           |1668-06-25          |1670     |1    |10   |10          |31      |18            |
#+    |Willem Haverkorn                          |1753     |1777-11-10           |1823-12-06          |1826     |5    |62   |62          |18      |7             |
#+    |Willem Ogier                              |1618     |1670-12-29           |1689-10-01          |1689     |1    |37   |37          |24      |11            |
#+    |Winter-van Merken, Lucretia Wilhelmina van|1721     |1746-01-10           |1786-11-25          |1789     |4    |35   |35          |32      |42            |
#+    |Witsen Geysbeek, Pieter Gerardus          |1774     |1795-02-23           |1828-01-16          |1833     |9    |90   |90          |10      |7             |
#+    |Ysbrand Vincent                           |1641     |1667-06-27           |1718-10-15          |1718     |5    |99   |99          |22      |7             |
#+    |Zweerts, Bruno                            |1741     |1778-04-27           |1787-02-10          |1804     |2    |11   |11          |2       |1             |



PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX ga: <https://data.goldenagents.org/ontology/>

# How many plays were made and performed during a playwriter's life? How many works of this author are listed in the STCN? And how many unique printer/publishers are involved in the publication?
# Using: ECARTICO + ONSTAGE + STCN through Golden Agents ontology
# 2020-12-16
# Expected rows: 116 (with multiple names and dates, execution time around 10 minutes)

SELECT DISTINCT 
    (SAMPLE(?name) AS ?name)
    (SAMPLE(?birthYear) AS ?birthYear)
    (min(?performanceDate) as ?firstPerformanceAlive) 
    (max(?performanceDate) as ?lastPerformanceAlive) 
    (SAMPLE(?deathYear) AS ?deathYear)
    (COUNT(DISTINCT ?work) as ?works) 
    (COUNT(DISTINCT ?show) as ?shows)
    (COUNT(DISTINCT ?performingEvent) as ?performances)
    (COUNT(DISTINCT ?allBook) as ?allBooks)
    (COUNT(DISTINCT ?printerSTCN) as ?uniquePrinters)
WHERE {
    ?person a ga:CreativeAgent ;
            ga:hasName ?name ;
            ga:birthDate ?birthDate ;
            ga:deathDate ?deathDate .

    # Some birthDate and deathDate values are of type xsd:gYear. Cast them to integer.
      BIND(IF(DATATYPE(?birthDate) = xsd:date, year(?birthDate), xsd:integer(substr(str(?birthDate), 1, 4))) as ?birthYear)
      BIND(IF(DATATYPE(?deathDate) = xsd:date, year(?deathDate), xsd:integer(substr(str(?deathDate), 1, 4))) as ?deathYear)
        # BIND(YEAR(?birthDate) AS ?birthYear)
        # BIND(YEAR(?deathDate) AS ?deathYear)

    # A work is written by a person.
    ?person ga:authorOf ?work .

    # A work is performed.
      ?work a ga:Story ;
              ga:performedAs ?performingEvent .

      ?performingEvent ga:subEventOf  ?show .

    # A performance is played on a date.
      ?show a ga:CreativeAct ;
              ga:startDate ?performanceDate .

    # Some birthDate and deathDate values are resources (schema:StructuredValue). Filter those out.
      FILTER (!ISURI(?birthDate) && !ISURI(?deathDate))

    # Only performances during a person's life
      FILTER(year(?performanceDate) <= ?deathYear)

    # Added for the STCN
      ?allBook ga:writtenBy ?person ;
               ga:publishedBy ?printerSTCN .

}
GROUP BY ?person 
ORDER BY ?name